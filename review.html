<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Thank you for submitting your product review">
  <title>Review Submitted Successfully</title>
  
  <!-- Preload resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/form.css">
  
  <!-- Prefetch the form page if user might return -->
  <link rel="prefetch" href="form.html" as="document">
</head>
<body>
  <div class="container success-container">
    <main>
      <div class="success-message">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#4CAF50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <h1>Thank You for Your Review!</h1>
        <p>Your feedback helps us improve our products and services.</p>
        
        <div class="review-stats">
          <p>You've submitted <span id="review-count" aria-live="polite">0</span> review(s)</p>
          <p>Last reviewed product: <span id="last-product">None yet</span></p>
        </div>
        
        <div class="action-buttons">
          <a href="form.html" class="btn">Submit Another Review</a>
          <a href="#" class="btn secondary" id="view-reviews">View Your Reviews</a>
        </div>
      </div>
    </main>

    <footer>
      <div class="footer-content">
        <p>&copy;<span id="current-year">2025</span> ðŸŒ¸ John Obiko</p>
        <p>Nairobi, Kenya</p>
        <p>Last Modified: <time id="last-modified" datetime="2025-04-05T14:30:00">04/05/2025 14:30:00</time></p>
      </div>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Update review counter
      const updateReviewCounter = () => {
        let count = localStorage.getItem('reviewCount') || 0;
        count = parseInt(count) + 1;
        localStorage.setItem('reviewCount', count);
        document.getElementById('review-count').textContent = count;
        
        // Get last reviewed product from URL params
        const params = new URLSearchParams(window.location.search);
        const productId = params.get('product');
        const productName = getProductName(productId);
        
        if (productName) {
          document.getElementById('last-product').textContent = productName;
          localStorage.setItem('lastReviewedProduct', productName);
        } else {
          const lastProduct = localStorage.getItem('lastReviewedProduct');
          if (lastProduct) {
            document.getElementById('last-product').textContent = lastProduct;
          }
        }
      };

      // Helper function to get product name from ID
      const getProductName = (productId) => {
        const products = {
          'prod1': 'Wireless Mouse',
          'prod2': 'Mechanical Keyboard',
          'prod3': 'HD Monitor',
          'prod4': 'USB-C Hub'
        };
        return products[productId] || null;
      };

      // Update dynamic dates
      document.getElementById('current-year').textContent = new Date().getFullYear();
      
      // View reviews button functionality (simulated)
      document.getElementById('view-reviews').addEventListener('click', (e) => {
        e.preventDefault();
        alert('This feature would show your review history in a real application.');
      });

      // Initialize
      updateReviewCounter();
    });
  </script>
</body>
</html>
